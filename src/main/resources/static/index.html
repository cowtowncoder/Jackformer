<!doctype html>
<html lang="en">
<head><title>Jackformer!</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
<link rel='stylesheet' type='text/css' href='css/style_2021_02_08.css'>
<link href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet"/>
<script type='text/javascript' src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="http://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
  <body>
    <h1>Jackformer - the Transformative Tool</h1>
<table><tr><td>
<form id="form-input" action="rest/jackform-output-file" method="post" enctype="multipart/form-data"
     target="output-content-frame">
  <table class="inputTable">
  <tr id="input-format-row" class="active">
<td class="label"><span class="prompt">* </span><label for="input-format">Input Format: </label></td>
<td class="selector"><select id="input-format" name="inputFormat" size="1">
   <option value=""></option>
   <option value="cbor">CBOR</option>
   <option value="json">JSON</option>
   <option value="properties">Properties</option>
   <option value="smile">Smile</option>
   <option value="xml">XML</option>
   <option value="yaml">YAML</option>
</select></td>
   </tr>
  <tr id="output-format-row" class="hidden">
<td class="label"><span class="prompt">* </span><label for="output-format">Output Format: </label></td>
<td class="selector"><select id="output-format" name="outputFormat" size="1">
   <option value=""></option>
   <option value="cbor">CBOR</option>
   <option value="json">JSON</option>
   <option value="json-pretty">JSON (pretty)</option>
   <option value="properties">Properties</option>
   <option value="smile">Smile</option>
   <option value="xml">XML</option>
   <option value="xml-pretty">XML (pretty)</option>
   <option value="yaml">YAML</option>
</select></td>
   </tr>
  <tr id="input-mode-row" class="hidden">
<td class="label"><span class="prompt">* </span>Input Source: </td>
<td class="selector"><select id="input-mode" name="inputMode">
   <option value=""></option>
   <option value="input-mode-text">Text</option>
   <option value="input-mode-file">Upload</option>
</select></td>
   </tr>
  <tr id="input-as-file-row" class="hidden collapsed">
<td class="label"><span class="prompt">* </span>Input File: </td>
<td class="selector"><input type="file" id="input-as-file" name="inputFile"></input>
   </tr>
  <tr id="input-as-text-row" class="infoRow hidden collapsed">
<td class="label"><span class="prompt">* </span>Input Content: </td>
<td class="selector"><textarea id="input-as-text" name="inputText" rows="12" cols="80"></textarea>
   </tr>
  <tr id="action-row" class="hidden">
<td class="label"> </td>
<td class="selector">
<button type="button" class="button" id="button-show">Transform and Show</button>
<button type="button" class="button" id="button-download">Transform and Download</button>
    </td>
   </tr>
  </table>
</form>
</td></tr></table>

<table id="output-table"><tr><td>
<form id="outputForm">
 <table class="outputTable">
  <tr id="output-content-row" class="hidden collapsed">
<td class="label">Transformed: </td>
<td><textarea id="output-content" class="outputText" rows="12" cols="80"></textarea></td>
  </tr>
 </table>  
</form>
</td></tr></table>

<!-- iframe just as download target -->
<iframe name="output-content-frame" style="visibility:hidden;display:none;">
</iframe>

<!-- and then dialog for error messages -->
<!-- style="display:none"  -->
<div id="output-error" title="Transform Error">
<table>
<tr><td>Failure&nbsp;type:</td><td id="output-error-type" class="ui-state-error-text"> </td></tr>
<tr><td>Message:</td><td id="output-error-msg"> </td><tr>
</table>
</div>

<script src="js/ui.js">
</script>

<script>
registerListeners();

$("#output-error").dialog({
  autoOpen: false,
  classes: { "ui-dialog": "ui-state-error" },
  modal: true,
  width: 500,
  buttons: { OK: function() {$(this).dialog("close");} }
});

// Finally, activate the input format selector directly:
$("#input-format").focus();
</script>

  </body>
</html>
